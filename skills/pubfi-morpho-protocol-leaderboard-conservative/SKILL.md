---
name: morpho-protocol-leaderboard-conservative
description: Query Morpho Protocol vaults on Ethereum, Base, and Arbitrum with conservative exposure limits, filtered by liquidity >$10M and sorted by Net APY.
argument-hint: [optional: chain, optional: limit]
status: draft
---

# Morpho Protocol Leaderboard (Conservative)

> **Conservative DeFi Vaults Ranking**

## Overview

Queries Morpho Protocol vaults across Ethereum, Base, and Arbitrum networks, filtering for conservative exposure assets with high liquidity, and ranks them by Net APY.

## Rules

**Deposit Assets (User Deposit):**
- USDT, USDC, ETH, BTC

**Exposure Assets (Underlying Markets):**
- BTC, ETH, WETH, WBTC, cbBTC, cbETH, wstETH, USDS, sUSDS, USDT, USDC

**Thresholds:**
- Minimum Liquidity: $10,000,000 USD
- APY Range: > 0%

**Target Chains:**
- Ethereum (Chain ID: 1)
- Base (Chain ID: 8453)
- Arbitrum (Chain ID: 42161)

## Execution Workflow

### Parameters

| Parameter | Type | Default | Description |
|-----------|------|---------|-------------|
| chain | string | all | Target chain: ethereum, base, arbitrum, or all |
| limit | number | 10 | Number of vaults to return (1-100) |

### Step 1: Initialize
```yaml
1. Load configuration from Rules section:
   - Target chains: As defined in Rules
   - Deposit assets: As defined in Rules
   - Exposure assets: As defined in Rules
   - Minimum liquidity: As defined in Rules
2. Set result limit (default: 10, max: 100)
```

### Step 2: Fetch Data
```yaml
Source: Morpho Protocol API
API Endpoint: https://api.morpho.org/graphql
API Documentation: https://docs.morpho.org/
```

### Step 3: Data Processing
```yaml
Filtering:
  - Deposit asset: Must be in Rules.Deposit_Assets
  - Liquidity: >= Rules.Minimum_Liquidity
  - Exposure assets: ALL must be in Rules.Exposure_Assets
  - Remove inactive or deprecated vaults

Sorting:
  - Primary: Net APY (descending)
  - Secondary: TVL (descending)

Validation:
  - APY values: As per Rules.APY_Range
  - Liquidity data is valid
```

## Output Format

```markdown
# Morpho Protocol Leaderboard (Conservative)

> Top Vaults by Net APY
> Chains: Ethereum, Base, Arbitrum | Updated: 2026-02-04 14:00
> Filters: Liquidity >$10M USD

---

## üèÜ Top Vaults

| Rank | Vault | Deposit Asset | Chain | Net APY | Liquidity | Exposure | Link |
|------|-------|---------------|-------|---------|-----------|----------|------|
| 1 | USDC Optimizer | USDC | Ethereum | 12.45% | $45.2M | USDC | [View](https://app.morpho.org/vault?...) |
| 2 | ETH Vault Pro | ETH | Base | 8.92% | $32.1M | WETH, wstETH | [View](https://app.morpho.org/vault?...) |
| 3 | BTC Conservative | BTC | Arbitrum | 7.33% | $28.5M | WBTC, cbBTC | [View](https://app.morpho.org/vault?...) |
| 4 | Stablecoin Mix | USDC | Ethereum | 6.78% | $52.3M | USDC, USDT, USDS | [View](https://app.morpho.org/vault?...) |
| 5 | ETH Yield | ETH | Ethereum | 5.21% | $18.7M | ETH, wstETH | [View](https://app.morpho.org/vault?...) |

---

### Summary

- **Total Vaults**: 5
- **Average APY**: 8.14%
- **Highest APY**: 12.45% (USDC Optimizer)

---

*Generated by Morpho Protocol Leaderboard*
*Data Source: Morpho Blue API*
```

## Error Handling

| Error | Action |
|-------|--------|
| API Timeout | Retry up to 1 times with exponential backoff |
| Invalid Chain | Return error message with valid options |
| No Vaults Found | Return empty table with explanation |

## Notes

- **Dual Filtering**: Deposit assets restricted to major assets, Exposure assets restricted to major assets.
- APY values are annualized and may fluctuate
